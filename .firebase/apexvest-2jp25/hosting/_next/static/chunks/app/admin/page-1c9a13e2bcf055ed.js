(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>d});var r=s(95155),a=s(12115),i=s(99708),l=s(74466),n=s(59434);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(d({variant:a,size:l,className:s})),ref:t,...c})});o.displayName="Button"},56104:(e,t,s)=>{"use strict";s.d(t,{db:()=>l});var r=s(23915),a=s(35317);let i=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({projectId:"apexvest-2jp25",appId:"1:430948091820:web:fafe4a0393251c1aab5c09",storageBucket:"apexvest-2jp25.firebasestorage.app",apiKey:"AIzaSyA8vEkftJaDguw8JDhkWH_Tm8aR-TRYMi4",authDomain:"apexvest-2jp25.firebaseapp.com",measurementId:"",messagingSenderId:"430948091820"}),l=(0,a.aU)(i)},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i,v:()=>l});var r=s(52596),a=s(39688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}function l(e){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}},62523:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var r=s(95155),a=s(12115),i=s(59434);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"},65573:(e,t,s)=>{Promise.resolve().then(s.bind(s,83233))},66424:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});var r=s(95155),a=s(12115),i=s(47655),l=s(59434);let n=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(i.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",s),...n,children:[(0,r.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,r.jsx)(d,{}),(0,r.jsx)(i.OK,{})]})});n.displayName=i.bL.displayName;let d=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...n}=e;return(0,r.jsx)(i.VM,{ref:t,orientation:a,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...n,children:(0,r.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=i.VM.displayName},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n});var r=s(95155),a=s(12115),i=s(59434);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},83233:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var r=s(95155),a=s(12115),i=s(35317),l=s(56104),n=s(66695),d=s(59434);let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,d.cn)("w-full caption-bottom text-sm",s),...a})})});o.displayName="Table";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,d.cn)("[&_tr]:border-b",s),...a})});c.displayName="TableHeader";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,d.cn)("[&_tr:last-child]:border-0",s),...a})});u.displayName="TableBody",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});m.displayName="TableRow";let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});f.displayName="TableHead";let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});p.displayName="TableCell",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",s),...a})}).displayName="TableCaption";var x=s(30285),h=s(87481),g=s(35695),y=s(98030),b=s(50172),j=s(76570),v=s(94063),N=s(30064);let w=N.bL,R=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.B8,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});R.displayName=N.B8.displayName;let S=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.l9,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});S.displayName=N.l9.displayName;let D=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.UC,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});D.displayName=N.UC.displayName;var T=s(60764),A=s(79556),C=s(77381),E=s(10518);let I=T.bL;T.YJ;let k=T.WT,_=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(T.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[a,(0,r.jsx)(T.In,{asChild:!0,children:(0,r.jsx)(A.A,{className:"h-4 w-4 opacity-50"})})]})});_.displayName=T.l9.displayName;let O=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(T.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(C.A,{className:"h-4 w-4"})})});O.displayName=T.PP.displayName;let M=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(T.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(A.A,{className:"h-4 w-4"})})});M.displayName=T.wn.displayName;let U=a.forwardRef((e,t)=>{let{className:s,children:a,position:i="popper",...l}=e;return(0,r.jsx)(T.ZL,{children:(0,r.jsxs)(T.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,r.jsx)(O,{}),(0,r.jsx)(T.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(M,{})]})})});U.displayName=T.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(T.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=T.JU.displayName;let B=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(T.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(T.VF,{children:(0,r.jsx)(E.A,{className:"h-4 w-4"})})}),(0,r.jsx)(T.p4,{children:a})]})});B.displayName=T.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(T.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=T.wv.displayName;var P=s(62523),F=s(66424),H=s(91394);let V=e=>{let{allUsers:t}=e,{user:s}=(0,y.A)(),[n,d]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(""),[f,p]=(0,a.useState)([]),[g,b]=(0,a.useState)(!0),j=(0,a.useRef)(null),{toast:v}=(0,h.dj)();(0,a.useEffect)(()=>{if(!s)return;b(!0);let e=(0,i.rJ)(l.db,"supportChats"),t=(0,i.P)(e,(0,i.My)("lastUpdated","desc")),r=(0,i.aQ)(t,e=>{let t=e.docs.map(e=>({...e.data(),user:e.id}));p(t),t.length>0&&!n&&d(t[0].user),b(!1)},e=>{console.error("Error fetching active chats:",e),v({variant:"destructive",title:"Error",description:"Could not fetch active chats. Please check your permissions."}),b(!1)});return()=>r()},[s,v]),(0,a.useEffect)(()=>{if(!n)return void c([]);let e=(0,i.rJ)(l.db,"supportChats",n,"messages"),t=(0,i.P)(e,(0,i.My)("timestamp","asc")),s=(0,i.aQ)(t,async e=>{if(c(e.docs.map(e=>({...e.data(),id:e.id}))),e.docs.length>0){let e=(0,i.H9)(l.db,"supportChats",n),t=f.find(e=>e.user===n);(null==t?void 0:t.unread)&&await (0,i.BN)(e,{unread:!1},{merge:!0})}});return()=>s()},[n,f]),(0,a.useEffect)(()=>{if(j.current){let e=j.current.querySelector("div");e&&(e.scrollTop=e.scrollHeight)}},[o]);let N=async e=>{if(e.preventDefault(),!u.trim()||!s||!n)return;let t=(0,i.rJ)(l.db,"supportChats",n,"messages");await (0,i.gS)(t,{text:u,sender:"admin",user:s.displayName,timestamp:(0,i.O5)()}),m("");let r=(0,i.H9)(l.db,"supportChats",n);await (0,i.BN)(r,{lastMessage:u,lastUpdated:(0,i.O5)()},{merge:!0})},w=(0,a.useMemo)(()=>t.find(e=>e.username===n),[n,t]);return(0,r.jsxs)("div",{className:"flex flex-col h-[600px]",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)(I,{onValueChange:d,value:n||"",children:[(0,r.jsx)(_,{className:"w-[280px]",children:(0,r.jsx)(k,{placeholder:"Select a user chat"})}),(0,r.jsx)(U,{children:g?(0,r.jsx)("div",{className:"p-4 text-sm text-muted-foreground",children:"Loading chats..."}):f.length>0?f.map(e=>(0,r.jsx)(B,{value:e.user,children:(0,r.jsxs)("div",{className:"flex items-center justify-between w-full pr-4",children:[(0,r.jsx)("span",{children:e.user}),e.unread&&(0,r.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"})]})},e.user)):(0,r.jsx)("div",{className:"p-4 text-sm text-muted-foreground",children:"No active support chats."})})]})}),(0,r.jsxs)(F.F,{className:"flex-grow p-4 border rounded-md",ref:j,children:[(0,r.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,r.jsxs)("div",{className:"flex items-end gap-2 ".concat("admin"===e.sender?"justify-end":"justify-start"),children:["admin"!==e.sender&&(0,r.jsx)(H.eu,{className:"h-8 w-8",children:(0,r.jsx)(H.q5,{children:null==w?void 0:w.username.charAt(0).toUpperCase()})}),(0,r.jsx)("div",{className:"max-w-xs p-3 rounded-lg ".concat("admin"===e.sender?"bg-primary text-primary-foreground":"bg-muted"),children:(0,r.jsx)("p",{className:"text-sm",children:e.text})}),"admin"===e.sender&&(0,r.jsxs)(H.eu,{className:"h-8 w-8",children:[(0,r.jsx)(H.BK,{src:"/avatars/alex.jpg"}),(0,r.jsx)(H.q5,{children:"A"})]})]},e.id))}),n&&0===o.length&&!g&&(0,r.jsx)("div",{className:"text-center text-muted-foreground p-8",children:"No messages in this chat yet."})]}),n&&(0,r.jsxs)("form",{onSubmit:N,className:"flex items-center gap-2 mt-4",children:[(0,r.jsx)(P.p,{value:u,onChange:e=>m(e.target.value),placeholder:"Reply to ".concat(n,"...")}),(0,r.jsx)(x.$,{type:"submit",children:"Send"})]})]})};function L(){let{user:e,loading:t}=(0,y.A)(),s=(0,g.useRouter)(),[N,T]=(0,a.useState)([]),[A,C]=(0,a.useState)(!0),[E,I]=(0,a.useState)(!1),{toast:k}=(0,h.dj)(),_=async()=>{C(!0);try{let e=(0,i.rJ)(l.db,"users"),t=(await (0,i.GG)(e)).docs.map(e=>({...e.data(),username:e.id}));T(t.filter(e=>"admin"!==e.username))}catch(e){console.error("Error fetching users:",e),k({variant:"destructive",title:"Error",description:"Failed to fetch users."})}finally{C(!1)}};(0,a.useEffect)(()=>{(async()=>{if(t)return;if(!(null==e?void 0:e.displayName))return s.push("/login");if("admin"===e.displayName){I(!0),_();return}let r=(0,i.H9)(l.db,"users",e.displayName),a=await (0,i.x7)(r);a.exists()&&"admin"===a.data().role?(I(!0),_()):s.push("/dashboard")})()},[e,t,s]);let O=async(e,t)=>{if("admin"===e)return void k({variant:"destructive",title:"Action Forbidden",description:"Cannot change the role of the primary admin."});try{let s=(0,i.H9)(l.db,"users",e),r="admin"===t?"user":"admin";await (0,i.mZ)(s,{role:r}),k({title:"Success",description:"".concat(e,"'s role updated to ").concat(r,".")}),_()}catch(t){console.error("Error updating role for ".concat(e,":"),t),k({variant:"destructive",title:"Error",description:"Failed to update ".concat(e,"'s role.")})}};return t||!E?(0,r.jsx)("div",{className:"flex h-screen items-center justify-center bg-background",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(b.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"text-lg",children:"Verifying permissions..."})]})}):(0,r.jsx)("div",{className:"container mx-auto py-8",children:(0,r.jsxs)(w,{defaultValue:"users",className:"w-full",children:[(0,r.jsxs)(R,{className:"grid w-full grid-cols-2",children:[(0,r.jsxs)(S,{value:"users",children:[(0,r.jsx)(j.A,{className:"mr-2"})," User Management"]}),(0,r.jsxs)(S,{value:"support",children:[(0,r.jsx)(v.A,{className:"mr-2"})," Support Center"]})]}),(0,r.jsx)(D,{value:"users",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"User Management"}),(0,r.jsx)(n.BT,{children:"Manage user roles and view their details."})]}),(0,r.jsx)(n.Wu,{children:A?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(b.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,r.jsxs)(o,{children:[(0,r.jsx)(c,{children:(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{children:"Username"}),(0,r.jsx)(f,{children:"Total Deposit"}),(0,r.jsx)(f,{children:"Membership Tier"}),(0,r.jsx)(f,{children:"Role"}),(0,r.jsx)(f,{className:"text-right",children:"Action"})]})}),(0,r.jsx)(u,{children:N.map(e=>(0,r.jsxs)(m,{children:[(0,r.jsx)(p,{className:"font-medium",children:e.username}),(0,r.jsx)(p,{children:(0,d.v)(e.totalDeposit)}),(0,r.jsx)(p,{children:e.membershipTier}),(0,r.jsx)(p,{children:(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("admin"===e.role?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:e.role||"user"})}),(0,r.jsx)(p,{className:"text-right",children:(0,r.jsx)(x.$,{onClick:()=>O(e.username,e.role||"user"),disabled:"admin"===e.username,size:"sm",variant:"admin"===e.role?"destructive":"outline",children:"admin"===e.role?"Demote to User":"Promote to Admin"})})]},e.username))})]})})]})}),(0,r.jsx)(D,{value:"support",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Support Center"}),(0,r.jsx)(n.BT,{children:"View user support chats and send replies."})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)(V,{allUsers:N})})]})})]})})}},87481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var r=s(12115);let a=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=n(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(o);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},91394:(e,t,s)=>{"use strict";s.d(t,{BK:()=>d,eu:()=>n,q5:()=>o});var r=s(95155),a=s(12115),i=s(54011),l=s(59434);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});n.displayName=i.bL.displayName;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",s),...a})});d.displayName=i._V.displayName;let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(i.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});o.displayName=i.H4.displayName},91950:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,c:()=>r});let r=[{name:"Observer",minDeposit:0,maxDeposit:0,dailyReturn:0,color:"#9ca3af",apy:0},{name:"Gold assets 1",minDeposit:800,maxDeposit:800,dailyReturn:.015,color:"#fde047",apy:228.14238072047857},{name:"Oil assets 1",minDeposit:1200,maxDeposit:1200,dailyReturn:.015,color:"#a16207",apy:228.14238072047857},{name:"Real estate assets 1",minDeposit:1500,maxDeposit:1500,dailyReturn:.015,color:"#f97316",apy:228.14238072047857},{name:"Total assets 1",minDeposit:2700,maxDeposit:2700,dailyReturn:.015,color:"#ea580c",apy:228.14238072047857},{name:"Gold asset 2",minDeposit:3e3,maxDeposit:3e3,dailyReturn:.015,color:"#facc15",apy:228.14238072047857},{name:"Oil asset 2",minDeposit:3200,maxDeposit:3200,dailyReturn:.015,color:"#854d0e",apy:228.14238072047857},{name:"Real estate asset 2",minDeposit:4e3,maxDeposit:4e3,dailyReturn:.015,color:"#d97706",apy:228.14238072047857},{name:"Total assets 2",minDeposit:5600,maxDeposit:5600,dailyReturn:.015,color:"#b45309",apy:228.14238072047857},{name:"All invest",minDeposit:12e3,maxDeposit:12e3,dailyReturn:.015,color:"#78350f",apy:228.14238072047857},{name:"Large Scale Investment",minDeposit:13e3,maxDeposit:Number.POSITIVE_INFINITY,dailyReturn:.015,color:"#451a03",apy:228.14238072047857}];function a(e){let t=[...r].sort((e,t)=>t.minDeposit-e.minDeposit).find(t=>e>=t.minDeposit);return t?t.name:"Observer"}},98030:(e,t,s)=>{"use strict";s.d(t,{A:()=>p,AuthProvider:()=>f});var r=s(95155),a=s(12115),i=s(35695),l=s(35317),n=s(56104),d=s(50172),o=s(91950);let c=(0,a.createContext)({}),u=()=>(0,r.jsx)("div",{className:"fixed inset-0 bg-background flex items-center justify-center z-50",children:(0,r.jsx)(d.A,{className:"h-12 w-12 animate-spin text-primary"})}),m=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s="";for(let r=0;r<e;r++)s+=t.charAt(Math.floor(Math.random()*t.length));return s},f=e=>{let{children:t}=e,[s,d]=(0,a.useState)(null),[f,p]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1),g=(0,i.useRouter)();(0,a.useEffect)(()=>{let e=sessionStorage.getItem("eig_user");e&&d({displayName:e,email:null}),p(!1),h(!0)},[]);let y=(0,a.useCallback)(async(e,t,s,r)=>{let a=(0,l.H9)(n.db,"users",s);if((await (0,l.x7)(a)).exists())throw Error("Username already exists.");let i=m(6),d={username:s,email:e,password:t,totalDeposit:0,earningsBalance:0,autoCompounding:!0,joined:new Date().toISOString(),referredBy:r||null,referralCode:i,membershipTier:(0,o.N)(0),lastEarningsUpdate:new Date().toISOString(),role:"user"};await (0,l.BN)(a,d)},[]),b=(0,a.useCallback)(async(e,t)=>{let s=(0,l.H9)(n.db,"users",e),r=await (0,l.x7)(s);if("admin"===e){sessionStorage.setItem("eig_user","admin"),d({displayName:"admin",email:"admin@eig.com"});return}if(!r.exists())throw Error("User does not exist.");if(t&&r.data().password!==t)throw Error("Invalid username or password");sessionStorage.setItem("eig_user",e),d({displayName:e,email:r.data().email})},[]),j=(0,a.useCallback)(()=>{sessionStorage.removeItem("eig_user"),d(null),g.push("/")},[g]);return(0,r.jsx)(c.Provider,{value:{user:s,loading:f,signUp:y,logIn:b,signOut:j},children:x?t:(0,r.jsx)(u,{})})},p=()=>(0,a.useContext)(c)}},e=>{var t=t=>e(e.s=t);e.O(0,[992,277,575,239,756,761,589,136,441,684,358],()=>t(65573)),_N_E=e.O()}]);